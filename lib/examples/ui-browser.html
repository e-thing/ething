<!DOCTYPE html>
<html>

  <head>

    <!-- JQUERY -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <!-- CORE -->
    <script src="/ething/lib/core.js"></script>

    <!-- UI -->
    <link href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' rel='stylesheet' type='text/css' />
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="/ething/lib/ui.js"></script>
    <link href="/ething/lib/ui.css" rel='stylesheet' type='text/css' />

  </head>

  <body>

    <div id="filter" class="input-group">
    	<input type="text" class="form-control" placeholder="filter">
      	<span class="input-group-btn">
        	<button class="btn btn-primary" type="button">Filter</button>
      	</span>
    </div>

    <!-- your content goes here -->
    <div id="browser">loading ...</div>

    <!-- APP -->
    <script type="text/javascript">
      var main = function() {

        // a basic resource browser
        $('#browser').browser({
          model: {
            filter: function(resource) {
              // must return true to show this resource
              return true;
            }
          },
          view: new $.Browser.Views.Wall(), // by default : new $.Browser.Views.Table()
          sortBy: '-modifiedDate' // "modifiedDate", "name", "size", "mime" ... (prepend by a minus for descending sorting)
        });
		
        $('#filter button').click(function(){
          var value = $('#filter input').val(),
              browser = $('#browser').browser();
          
          browser.model().filter(function(resource){
            return (resource instanceof EThing.Folder) || !value || new RegExp(value).test(resource.name());
          });
          browser.reload();
          
        })
        
      };

      EThing.auth.authorize(main || null);
    </script>

  </body>

</html>