(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["13bcb548"],{"31c7":function(e,n,t){"use strict";var i=t("dd32"),o=t.n(i);o.a},"34ef":function(e,n,t){t("ec30")("Uint8",1,function(e){return function(n,t,i){return e(this,n,t,i)}})},"6bc9":function(e,n,t){(function(e){e(t("56b3"))})(function(e){function n(n){if(n.getOption("disableInput"))return e.Pass;for(var i,o=n.listSelections(),a=[],l=0;l<o.length;l++){var r=o[l].head;if(!/\bcomment\b/.test(n.getTokenTypeAt(r)))return e.Pass;var c=n.getModeAt(r);if(i){if(i!=c)return e.Pass}else i=c;var s=null;if(i.blockCommentStart&&i.blockCommentContinue){var m=n.getLine(r.line).slice(0,r.ch),f=m.lastIndexOf(i.blockCommentEnd);if(-1!=f&&f==r.ch-i.blockCommentEnd.length);else if((d=m.lastIndexOf(i.blockCommentStart))>-1&&d>f){if(s=m.slice(0,d),/\S/.test(s)){s="";for(var u=0;u<d;++u)s+=" "}}else(d=m.indexOf(i.blockCommentContinue))>-1&&!/\S/.test(m.slice(0,d))&&(s=m.slice(0,d));null!=s&&(s+=i.blockCommentContinue)}if(null==s&&i.lineComment&&t(n)){m=n.getLine(r.line);var d=m.indexOf(i.lineComment);d>-1&&(s=m.slice(0,d),/\S/.test(s)?s=null:s+=i.lineComment+m.slice(d+i.lineComment.length).match(/^\s*/)[0])}if(null==s)return e.Pass;a[l]="\n"+s}n.operation(function(){for(var e=o.length-1;e>=0;e--)n.replaceRange(a[e],o[e].from(),o[e].to(),"+insert")})}function t(e){var n=e.getOption("continueComments");return!n||"object"!=typeof n||!1!==n.continueLineComment}e.defineOption("continueComments",null,function(t,i,o){if(o&&o!=e.Init&&t.removeKeyMap("continueComment"),i){var a="Enter";"string"==typeof i?a=i:"object"==typeof i&&i.key&&(a=i.key);var l={name:"continueComment"};l[a]=n,t.addKeyMap(l)}})})},7289:function(e,n,t){(function(e){e(t("56b3"))})(function(e){"use strict";var n={},t=/[^\s\u00a0]/,i=e.Pos;function o(e){var n=e.search(t);return-1==n?0:n}function a(e,n,t){return/\bstring\b/.test(e.getTokenTypeAt(i(n.line,0)))&&!/^[\'\"\`]/.test(t)}function l(e,n){var t=e.getMode();return!1!==t.useInnerComments&&t.innerMode?e.getModeAt(n):t}e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=n);for(var t=this,o=1/0,a=this.listSelections(),l=null,r=a.length-1;r>=0;r--){var c=a[r].from(),s=a[r].to();c.line>=o||(s.line>=o&&(s=i(o,0)),o=c.line,null==l?t.uncomment(c,s,e)?l="un":(t.lineComment(c,s,e),l="line"):"un"==l?t.uncomment(c,s,e):t.lineComment(c,s,e))}}),e.defineExtension("lineComment",function(e,r,c){c||(c=n);var s=this,m=l(s,e),f=s.getLine(e.line);if(null!=f&&!a(s,e,f)){var u=c.lineComment||m.lineComment;if(u){var d=Math.min(0!=r.ch||r.line==e.line?r.line+1:r.line,s.lastLine()+1),g=null==c.padding?" ":c.padding,h=c.commentBlankLines||e.line==r.line;s.operation(function(){if(c.indent){for(var n=null,a=e.line;a<d;++a){var l=s.getLine(a),r=l.slice(0,o(l));(null==n||n.length>r.length)&&(n=r)}for(a=e.line;a<d;++a){l=s.getLine(a);var m=n.length;(h||t.test(l))&&(l.slice(0,m)!=n&&(m=o(l)),s.replaceRange(n+u+g,i(a,0),i(a,m)))}}else for(a=e.line;a<d;++a)(h||t.test(s.getLine(a)))&&s.replaceRange(u+g,i(a,0))})}else(c.blockCommentStart||m.blockCommentStart)&&(c.fullLines=!0,s.blockComment(e,r,c))}}),e.defineExtension("blockComment",function(e,o,a){a||(a=n);var r=this,c=l(r,e),s=a.blockCommentStart||c.blockCommentStart,m=a.blockCommentEnd||c.blockCommentEnd;if(s&&m){if(!/\bcomment\b/.test(r.getTokenTypeAt(i(e.line,0)))){var f=Math.min(o.line,r.lastLine());f!=e.line&&0==o.ch&&t.test(r.getLine(f))&&--f;var u=null==a.padding?" ":a.padding;e.line>f||r.operation(function(){if(0!=a.fullLines){var n=t.test(r.getLine(f));r.replaceRange(u+m,i(f)),r.replaceRange(s+u,i(e.line,0));var l=a.blockCommentLead||c.blockCommentLead;if(null!=l)for(var d=e.line+1;d<=f;++d)(d!=f||n)&&r.replaceRange(l+u,i(d,0))}else r.replaceRange(m,o),r.replaceRange(s,e)})}}else(a.lineComment||c.lineComment)&&0!=a.fullLines&&r.lineComment(e,o,a)}),e.defineExtension("uncomment",function(e,o,a){a||(a=n);var r,c=this,s=l(c,e),m=Math.min(0!=o.ch||o.line==e.line?o.line:o.line-1,c.lastLine()),f=Math.min(e.line,m),u=a.lineComment||s.lineComment,d=[],g=null==a.padding?" ":a.padding;e:if(u){for(var h=f;h<=m;++h){var p=c.getLine(h),v=p.indexOf(u);if(v>-1&&!/comment/.test(c.getTokenTypeAt(i(h,v+1)))&&(v=-1),-1==v&&t.test(p))break e;if(v>-1&&t.test(p.slice(0,v)))break e;d.push(p)}if(c.operation(function(){for(var e=f;e<=m;++e){var n=d[e-f],t=n.indexOf(u),o=t+u.length;t<0||(n.slice(o,o+g.length)==g&&(o+=g.length),r=!0,c.replaceRange("",i(e,t),i(e,o)))}}),r)return!0}var C=a.blockCommentStart||s.blockCommentStart,b=a.blockCommentEnd||s.blockCommentEnd;if(!C||!b)return!1;var k=a.blockCommentLead||s.blockCommentLead,y=c.getLine(f),x=y.indexOf(C);if(-1==x)return!1;var L=m==f?y:c.getLine(m),O=L.indexOf(b,m==f?x+C.length:0),M=i(f,x+1),S=i(m,O+1);if(-1==O||!/comment/.test(c.getTokenTypeAt(M))||!/comment/.test(c.getTokenTypeAt(S))||c.getRange(M,S,"\n").indexOf(b)>-1)return!1;var T=y.lastIndexOf(C,e.ch),w=-1==T?-1:y.slice(0,e.ch).indexOf(b,T+C.length);if(-1!=T&&-1!=w&&w+b.length!=e.ch)return!1;w=L.indexOf(b,o.ch);var A=L.slice(o.ch).lastIndexOf(C,w-o.ch);return T=-1==w||-1==A?-1:o.ch+A,(-1==w||-1==T||T==o.ch)&&(c.operation(function(){c.replaceRange("",i(m,O-(g&&L.slice(O-g.length,O)==g?g.length:0)),i(m,O+b.length));var e=x+C.length;if(g&&y.slice(e,e+g.length)==g&&(e+=g.length),c.replaceRange("",i(f,x),i(f,e)),k)for(var n=f+1;n<=m;++n){var o=c.getLine(n),a=o.indexOf(k);if(-1!=a&&!t.test(o.slice(0,a))){var l=a+k.length;g&&o.slice(l,l+g.length)==g&&(l+=g.length),c.replaceRange("",i(n,a),i(n,l))}}}),!0)})})},c48b:function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("q-page",[t("div",{staticClass:"page-fit scroll"},[t("div",{staticClass:"page-block"},[t("q-btn-group",{attrs:{flat:""}},[t("q-btn",{attrs:{loading:e.saveLoading,label:"save",icon:"mdi-content-save-outline"},on:{click:e.save}}),t("q-btn-dropdown",{attrs:{label:e.langage}},[t("q-list",{attrs:{link:""}},e._l(e.langages,function(n,i,o){return t("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],key:i,nativeOn:{click:function(n){e.setLangage(i)}}},[t("q-item-main",[t("q-item-tile",{attrs:{label:""}},[e._v(e._s(i))])],1)],1)}))],1)],1),t("span",{staticClass:"title text-faded",class:{dirty:e.dirty}},[e._v(e._s(e.resource.name()))]),t("codemirror",{ref:"cm",attrs:{options:e.cmOption},on:{changes:e.onChange},model:{value:e.content,callback:function(n){e.content=n},expression:"content"}})],1)])])},o=[];i._withStripped=!0;t("34ef"),t("a481");var a=t("133b"),l=t("8f94"),r=(t("a7be"),t("f9d4"),t("ced0"),t("db91"),t("8c33"),t("10b2"),t("6bc9"),t("7289"),{name:"PageText",components:{codemirror:l["codemirror"]},data:function(){var e=this;return{content:"",contentDate:null,warnedContentDate:null,contentModifiedNotification:null,cmOption:{mode:"text/plain",tabSize:4,styleActiveLine:!0,lineNumbers:!0,lineWrapping:!1,foldGutter:!0,styleSelectedText:!0,matchBrackets:!0,autoCloseBrackets:!0,showCursorWhenSelecting:!0,extraKeys:{Ctrl:"autocomplete","Ctrl-S":function(){e.save()}},hintOptions:{completeSingle:!1},viewportMargin:1/0},loading:!0,saveLoading:!1,langages:{text:"text/plain",javascript:["text/javascript","application/javascript"],yaml:["text/x-yaml","application/x-yaml"],json:"application/json",python:"text/x-python"},langage:"text",dirty:!1}},computed:{resource:function(){var e=this.$route.params.id,n=this.$ething.arbo.get(e);return e&&e.length&&(n||this.$router.replace("/404")),n}},watch:{resource:{handler:function(e){var n=e.contentModifiedDate();this.contentDate&&n>this.contentDate&&n.getTime()!=this.warnedContentDate&&(this.warnedContentDate=n.getTime(),this.dirty?(this.contentModifiedNotification&&(this.contentModifiedNotification(),this.contentModifiedNotification=null),this.contentModifiedNotification=a["a"].create({message:"The content of this file has changed in the server and differ from your current version !",timeout:5e4,type:"negative"})):this.reloadContent())},immediate:!0},contentDate:function(e){null===e&&this.contentModifiedNotification&&(this.contentModifiedNotification(),this.contentModifiedNotification=null)}},methods:{codemirror:function(){return this.$refs["cm"].codemirror},markClean:function(){this.dirty=!1,this.codemirror().markClean()},reloadContent:function(){var e=this;this.loading=!0,this.contentDate=null,this.resource.read(!0).then(function(n){e.setLangage(e.resource.mime()),e.content=String.fromCharCode.apply(null,new Uint8Array(n)),e.contentDate=e.resource.contentModifiedDate(),e.$nextTick(function(){e.markClean(),e.codemirror().clearHistory()})}).finally(function(){e.loading=!1})},setLangage:function(e){if(/^[^\/]+\/[^\/]+$/.test(e))for(var n in this.langages)if(Array.isArray(this.langages[n])?-1!==this.langages[n].indexOf(e):this.langages[n]===e)return this.cmOption.mode=Array.isArray(this.langages[n])?this.langages[n][0]:e,void(this.langage=n);this.langages[e]||(e="text"),this.cmOption.mode=this.langages[e],this.langage=e},save:function(){var e=this;this.saveLoading=!0,this.contentDate=null,this.resource.write(this.content).then(function(){e.contentDate=e.resource.contentModifiedDate(),e.dirty=!1,e.markClean()}).finally(function(){e.saveLoading=!1})},onChange:function(e,n){this.dirty=!e.isClean()}},mounted:function(){this.reloadContent()}}),c=r,s=(t("31c7"),t("2877")),m=Object(s["a"])(c,i,o,!1,null,null,null);m.options.__file="Text.vue";n["default"]=m.exports},dd32:function(e,n,t){}}]);