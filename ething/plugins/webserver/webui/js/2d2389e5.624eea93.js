(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d2389e5"],{ffc2:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"center-width-md q-gutter-y-md q-py-md q-px-sm"},[r("q-card",{staticClass:"bg-white",attrs:{flat:""}},[t.create?r("q-card-section",{staticClass:"row items-center"},[t.meta.icon?r("div",{staticClass:"col-auto q-mr-md"},[r("q-avatar",{attrs:{icon:t.meta.icon,"text-color":"white",color:t.meta.color}})],1):t._e(),r("div",{staticClass:"col text-h4 ellipsis"},[t._v(t._s(t.meta.title||t.type.split("/").pop()))])]):r("q-card-section",[r("div",{staticClass:"text-h4 text-faded"},[r("q-icon",{attrs:{name:"settings"}}),t._v(" settings\n      ")],1),r("div",{staticClass:"text-h6 q-ml-xl ellipsis",class:"text-"+t.meta.color},[t._v("\n        "+t._s(t.resource.basename())+"\n      ")])]),r("q-separator"),r("q-card-section",[r("resource-editor",{ref:"form",attrs:{resource:t.create?t.type:t.resource},on:{error:function(e){t.formError=e}}})],1),t.error?r("q-card-section",[r("q-banner",{staticClass:"bg-negative text-white"},[r("q-icon",{attrs:{left:"",name:"mdi-alert"}}),t._v(" "+t._s(String(t.error))+"\n      ")],1)],1):t._e(),r("q-separator"),r("q-card-section",[r("q-btn",{attrs:{loading:t.loading,disable:t.formError,color:"primary",icon:"done",label:t.create?"create":"valid"},on:{click:t.submit}}),r("q-btn",{staticClass:"q-ml-sm",attrs:{color:"negative",icon:"clear",label:"cancel",flat:""},on:{click:t.onCancel}})],1)],1)],1)},i=[],s=(r("551c"),r("06db"),r("097d"),r("a481"),{name:"PageResourceEdit",data:function(){return{loading:!1,error:!1,formError:!1}},computed:{type:function(){var t=this.$route.params.type;return t&&!this.$ethingUI.isDefined(t)&&this.$router.replace("/404"),t},create:function(){return!!this.type},resource:function(){var t=this.$route.params.id;if(t){var e=this.$ething.arbo.get(t);return e||this.$router.replace("/404"),e}},meta:function(){return this.$ethingUI.get(this.create?this.type:this.resource)}},methods:{onDone:function(t){this.create&&this.$ethingUI.open(t)||this.$router.go(-1)},onCancel:function(){this.$router.go(-1)},submit:function(){var t=this;this.loading=!0,this.$refs.form.submit().then(this.onDone).catch((function(e){t.error=e||"error"})).finally((function(){t.loading=!1}))}}}),o=s,n=r("2877"),c=Object(n["a"])(o,a,i,!1,null,null,null);e["default"]=c.exports}}]);