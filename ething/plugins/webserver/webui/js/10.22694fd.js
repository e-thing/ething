(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"GA/o":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"q-my-md q-display-1 q-display-1-opacity"},[s("q-icon",{staticClass:"vertical-middle",attrs:{name:e.$ethingUI.get(e.resource).icon}}),s("span",{staticClass:"vertical-middle"},[e._v("\n      "+e._s(e.resource.basename())+"\n    ")]),s("q-btn",{staticClass:"float-right",attrs:{flat:"",dense:e.$q.screen.lt.sm,label:"settings",icon:"settings"},on:{click:function(t){e.$router.push("/resource/"+e.resource.id())}}})],1),s("div",[e.resource.lastSeenDate()?s("q-chip",{staticClass:"q-mr-sm",attrs:{small:"",square:"",detail:"",icon:"access time"}},[e._v("\n      "+e._s(e.$ethingUI.utils.dateToString(e.resource.lastSeenDate()))+"\n    ")]):e._e(),s("resource-battery-chip",{staticClass:"vertical-middle q-mr-sm",attrs:{resource:e.resource,square:""}}),e.resource.location()?s("q-chip",{staticClass:"q-mr-sm",attrs:{small:"",square:"",detail:"",icon:"location_on"}},[e._v("\n      "+e._s(e.resource.location())+"\n    ")]):e._e()],1),e.createdBys.length?s("div",{staticClass:"q-py-md"},[e._l(e.createdBys,function(t,i){return[i>0?s("span",[e._v(" - ")]):e._e(),s("span",{staticClass:"createdby-item",on:{click:function(s){e.$ethingUI.open(t)}}},[e._v(e._s(t.basename()))])]})],2):e._e(),s("div",{staticClass:"q-my-md"},[s("device-component",{attrs:{device:e.resource}})],1),e.attributes.length>0?s("q-card",{staticClass:"q-my-md attributes",class:{detailled:e.showDetailledAttributes}},[s("q-card-title",{staticClass:"bg-primary text-white"},[s("q-icon",{staticClass:"vertical-middle",attrs:{name:"mdi-format-list-bulleted"}}),s("span",{staticClass:"vertical-middle"},[e._v("\n        Attributes\n      ")]),s("q-btn",{staticClass:"float-right",staticStyle:{"line-height":"initial"},attrs:{flat:"",rounded:"",size:"small",label:e.showDetailledAttributes?"less":"more",icon:e.showDetailledAttributes?"expand_less":"expand_more"},on:{click:function(t){e.showDetailledAttributes=!e.showDetailledAttributes}}})],1),s("q-card-separator"),s("q-card-main",[s("div",{staticClass:"row"},[e._l(e.attributes,function(t){return[s("div",{staticClass:"col-xs-12 col-sm-2 key text-secondary ellipsis",class:{detailled:t.detailled}},[e._v(e._s(t.name))]),s("div",{staticClass:"col-xs-12 col-sm-10 value ellipsis",class:{detailled:t.detailled}},[e._v(e._s(t.value))])]})],2)])],1):e._e(),e.data?s("q-card",{staticClass:"q-my-md"},[s("q-card-title",{staticClass:"bg-primary text-white"},[s("q-icon",{staticClass:"vertical-middle",attrs:{name:"mdi-format-list-bulleted"}}),s("span",{staticClass:"vertical-middle"},[e._v("\n        Data\n      ")])],1),s("q-card-separator"),s("q-card-main",[s("div",{staticClass:"row"},[e._l(e.data,function(t,i){return[s("div",{staticClass:"col-xs-12 col-sm-2 key text-secondary"},[e._v(e._s(i))]),s("div",{staticClass:"col-xs-12 col-sm-10 value"},[e._v(e._s(t))])]})],2)])],1):e._e(),e.children.length?s("q-card",{staticClass:"q-my-md"},[s("q-card-title",{staticClass:"bg-primary text-white"},[s("q-icon",{staticClass:"vertical-middle",attrs:{name:"mdi-database"}}),s("span",{staticClass:"vertical-middle"},[e._v("\n        Resources\n      ")])],1),s("q-card-separator"),s("q-card-main",[s("q-list",{attrs:{"no-border":""}},e._l(e.children,function(e){return s("resource-q-item",{key:e.id(),attrs:{resource:e}})}))],1)],1):e._e(),Object.keys(e.$ethingUI.get(e.resource).methods).length?s("q-card",{staticClass:"q-my-md"},[s("q-card-title",{staticClass:"bg-primary text-white"},[s("q-icon",{staticClass:"vertical-middle",attrs:{name:"mdi-database"}}),s("span",{staticClass:"vertical-middle"},[e._v("\n        API\n      ")])],1),s("q-card-separator"),s("q-card-main",[s("device-api",{attrs:{device:e.resource}})],1)],1):e._e()],1)},a=[];i._withStripped=!0;s("f3/d"),s("rGqo"),s("yt8O"),s("RW0V"),s("pIFo");var r=s("WZpT"),n=s("ZDT0"),c=s("V3Uy"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isWidget?e._l(e.widgets,function(e,t){return[s("widget",{class:{"q-mt-md":t},attrs:{widgetClass:e.widgetClass,widgetOptions:e.widgetOptions}})]}):[s("div",{ref:"component"})]],2)},o=[];l._withStripped=!0;s("91GP");var d={name:"DeviceComponent",props:{device:{}},data:function(){return{isWidget:!1,instance:null,widgets:[],widgetClass:null,widgetOptions:null}},computed:{computedDevice:function(){return"string"==typeof this.device?this.$ething.arbo.get(this.device):this.device}},mounted:function(){var e=this;if(this.computedDevice){var t=this.$ethingUI.get(this.computedDevice),s=t.mainComponent,i=t.mainComponentAttributes;if("string"==typeof s&&(s=[s],i=[i]),Array.isArray(s))s.forEach(function(s,a){var r=t.widgets[s];if(r){var n={resource:e.computedDevice.id()};i&&i[a]&&Object.assign(n,i[a]),e.widgets.push({widgetClass:r,widgetOptions:n})}else console.error('widget "'+s+'" not found for the resource '+e.computedDevice.id())}),this.isWidget=!!this.widgets.length;else if(s){this.$ethingUI.utils.isPlainObject(s)&&(s=Vue.extend(s));var a=new s({propsData:Object.assign({resource:this.computedDevice},i||{}),parent:this});a.$mount(this.$refs.component),this.instance=a}}},beforeDestroy:function(){this.instance&&this.instance.$destroy()}},u=d,m=s("KHd+"),p=Object(m["a"])(u,l,o,!1,null,null,null);p.options.__file="DeviceComponent.vue";var h=p.exports,v={name:"PageDevice",components:{DeviceApi:r["a"],ResourceQItem:n["a"],ResourceBatteryChip:c["a"],DeviceComponent:h},data:function(){return{showDetailledAttributes:!1}},computed:{resource:function(){var e=this.$route.params.id,t=this.$store.getters["ething/get"](e);return e&&e.length&&(t&&t.isTypeof("resources/Device")||this.$router.replace("/404")),t},children:function(){var e=this;return this.$store.getters["ething/filter"](function(t){return t.createdBy()===e.resource.id()})},tables:function(){return this.children.filter(function(e){return e.isTypeof("resources/Table")})},files:function(){return this.children.filter(function(e){return e.isTypeof("resources/File")})},devices:function(){return this.children.filter(function(e){return e.isTypeof("resources/Device")})},data:function(){var e=this.resource.data();return e&&Object.keys(e).length>0?e:void 0},attributes:function(){var e=this.$ethingUI.get(this.resource).properties,t=[],s=["name","data","description"],i=["id","modifiedDate","createdBy","type","extends","public","createdDate","methods","battery","location","interfaces","connected","lastSeenDate"];for(var a in e)if(-1===s.indexOf(a)){var r=e[a],n=r.getFormatted(this.resource);t.push({name:a,value:n,detailled:-1!==i.indexOf(a)})}return t},createdBys:function(){var e=[],t=this.resource.createdBy();while(t){var s=this.$ething.arbo.get(t);if(!s)break;e.push(s),t=s.createdBy()}return e.reverse()}}},f=v,g=(s("Ra9x"),Object(m["a"])(f,i,a,!1,null,null,null));g.options.__file="Device.vue";t["default"]=g.exports},L8Rl:function(e,t,s){},Ra9x:function(e,t,s){"use strict";var i=s("L8Rl"),a=s.n(i);a.a}}]);