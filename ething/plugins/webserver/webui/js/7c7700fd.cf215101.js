(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7c7700fd"],{"013f":function(r,e,t){"use strict";t.r(e);var o=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"fixed-center content"},[t("div",{staticClass:"q-display-3 text-primary text-center"},[r._v("EThing")]),t("div",{staticClass:"q-pb-md"},[r.$ethingUI.dynamicServerUrl?t("q-field",{attrs:{error:r.$v.server.$error,"error-label":"required"}},[t("q-input",{ref:"server",staticClass:"q-py-md",attrs:{autofocus:"","float-label":"Server Url"},on:{keyup:function(e){if(!("button"in e)&&r._k(e.keyCode,"enter",13,e.key,"Enter"))return null;r.$refs.login.focus()},blur:r.$v.server.$touch},model:{value:r.server,callback:function(e){r.server=e},expression:"server"}})],1):r._e(),t("q-field",{attrs:{error:r.$v.form.login.$error,"error-label":"Login is required"}},[t("q-input",{ref:"login",staticClass:"q-py-md",attrs:{autofocus:"","float-label":"Login"},on:{keyup:function(e){if(!("button"in e)&&r._k(e.keyCode,"enter",13,e.key,"Enter"))return null;r.$refs.password.focus()},blur:r.$v.form.login.$touch},model:{value:r.form.login,callback:function(e){r.$set(r.form,"login",e)},expression:"form.login"}})],1),t("q-field",{attrs:{error:r.$v.form.password.$error,"error-label":"Password is required"}},[t("q-input",{ref:"password",staticClass:"q-py-md",attrs:{type:"password","float-label":"Password",error:r.$v.form.password.$error},on:{keyup:function(e){return"button"in e||!r._k(e.keyCode,"enter",13,e.key,"Enter")?r.onConnect(e):null},blur:r.$v.form.password.$touch},model:{value:r.form.password,callback:function(e){r.$set(r.form,"password",e)},expression:"form.password"}})],1)],1),t("q-btn",{staticClass:"full-width",attrs:{loading:r.loading,disable:r.$v.$error,color:"primary"},on:{click:r.onConnect}},[r._v("Connect")])],1)},n=[];o._withStripped=!0;t("a481"),t("28a5");var s=t("b5ae"),i=window.location.href.split("/"),a=i[0]+"//"+i[2],l={name:"PageLogin",data:function(){return{loading:!1,server:this.$ethingUI.getServerUrl()||a,form:{login:"",password:""}}},validations:function(){var r={form:{login:{required:s["required"]},password:{required:s["required"]}}};return this.$ethingUI.dynamicServerUrl&&(r.server={required:s["required"]}),r},methods:{onConnect:function(){var r=this;if(this.$v.$touch(),!this.$v.$error){this.loading=!0;var e=this.server.trim().replace(/\/+$/,"");this.$ethingUI.login(e,this.form.login,this.form.password).catch(function(t){if(t.response){var o=t.response.status;401==o||403==o?r.$q.notify("Invalid credentials."):r.$q.notify("Could not authenticate.")}else t.request?r.$q.notify("Unable to access to the EThing server at "+e):r.$q.notify("Error: "+t.message)}).finally(function(){r.loading=!1})}}}},u=l,c=(t("da41"),t("2877")),d=Object(c["a"])(u,o,n,!1,null,null,null);d.options.__file="Login.vue";e["default"]=d.exports},da41:function(r,e,t){"use strict";var o=t("f81e"),n=t.n(o);n.a},f81e:function(r,e,t){}}]);