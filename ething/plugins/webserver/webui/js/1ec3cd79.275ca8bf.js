(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1ec3cd79"],{6283:function(t,e,a){"use strict";var s=a("9273"),i=a.n(s);i.a},"7b3d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"bg-grey-1",attrs:{view:"hHh LpR fFf"}},[a("q-header",{attrs:{elevated:"","height-hint":"50"}},[a("q-toolbar",{staticClass:"q-px-none",attrs:{color:"primary"}},[a("q-btn",{attrs:{flat:"",icon:"menu","aria-label":"Menu",stretch:""},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),t.back?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"keyboard_backspace","aria-label":"back"},on:{click:function(e){return t.$router.go(-1)}}}):t._e(),t.$q.screen.gt.xs?a("q-btn",{staticClass:"q-ml-xs",attrs:{flat:"","no-caps":"","no-wrap":"",stretch:""},on:{click:function(e){return t.$router.push("/")}}},[a("q-icon",{attrs:{name:"img:statics/app-logo-128x128.png",size:"28px"}}),a("q-toolbar-title",{staticClass:"text-weight-bold",attrs:{shrink:""}},[t._v("\n          EThing\n        ")])],1):t._e(),a("q-space"),t.refreshEnabled?a("q-btn",{staticClass:"gt-xs",attrs:{stretch:"",flat:"",icon:"refresh","aria-label":"refresh"},on:{click:t.refresh}}):t._e(),a("q-btn",{attrs:{flat:"",icon:"mdi-bell",stretch:""}},[t.persistentNotifications.length>0?a("q-badge",{staticStyle:{top:"4px",right:"3px"},attrs:{color:"red",floating:""}},[t._v(t._s(t.persistentNotifications.length))]):t._e(),a("q-menu",{attrs:{anchor:"bottom right",self:"top right","max-width":"370px",square:"","content-class":"no-shadow bg-transparent","transition-show":"slide-down","transition-hide":"slide-up"}},[a("div",{staticClass:"bg-grey-8 text-grey-5 q-pa-md text-subtitle2"},[t._v(t._s(t.persistentNotifications.length>0?"Notifications":"No notifications"))]),t.persistentNotifications.length>0?a("q-scroll-area",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticStyle:{height:"50vh","min-width":"350px"}},[a("q-list",{staticClass:"bg-primary text-white",attrs:{separator:"",dark:""}},t._l(t.persistentNotifications,(function(e,s){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:s,class:e.color?"bg-"+e.color:"bg-secondary",attrs:{clickable:""},on:{click:function(t){return e.open()}}},[a("q-item-section",[a("q-item-label",[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:e.icon||"mdi-android-messages"}}),t._v(" "+t._s(e.title||e.mode)+"\n                      "),e.resource?a("span",{staticClass:"text-italic"},[t._v(" - "+t._s(e.resource.basename()))]):t._e()],1),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.message))])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{round:"",flat:"",icon:"close"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.remove()}}})],1)],1)})),1)],1):t._e()],1)],1),a("q-btn",{staticClass:"gt-xs",attrs:{flat:"",stretch:"",icon:"settings","aria-label":"Settings"},on:{click:function(e){return t.$router.push({name:"system",params:{panel:"settings"}})}}}),t.$ethingUI.autoLogin?t._e():a("q-btn",{staticClass:"gt-xs",attrs:{flat:"",stretch:"",icon:"exit_to_app","aria-label":"Logout"},on:{click:t.logout}})],1)],1),a("q-drawer",{attrs:{"content-class":"bg-grey-2","show-if-above":"",bordered:"",width:240},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-scroll-area",{staticClass:"fit"},[a("q-list",{attrs:{padding:""}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:{name:"dashboard"}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"dashboard"}})],1),a("q-item-section",[a("q-item-label",[t._v("Dashboard")])],1)],1),t.dashboardTitles.length>1?[t._l(t.dashboardTitles,(function(e,s){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"dashboard"+s,staticClass:"sub",attrs:{clickable:"",dense:"",to:{name:"dashboard",query:{index:s}},exact:""}},[a("q-item-section",{attrs:{avatar:""}}),a("q-item-section",[a("q-item-label",{attrs:{lines:1}},[t._v(t._s(e))])],1)],1)})),a("q-separator",{staticClass:"q-mt-md q-mb-xs"})]:t._e(),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:{name:"explore",query:{resources:"resources/Flow"}},exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-ray-start-arrow"}})],1),a("q-item-section",[a("q-item-label",[t._v("Flows")])],1)],1),t._l(t.__rootItems,(function(e,s){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"menu-"+s,attrs:{clickable:"",to:e.route,exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1)],1)})),t._l(t.__rootSubMenus,(function(e,s){return[a("q-separator",{staticClass:"q-mt-md q-mb-xs"}),a("q-item-label",{staticClass:"text-weight-bold text-uppercase",attrs:{header:""}},[t._v("\n            "+t._s(e.label)+"\n          ")]),t._l(e.items,(function(e,i){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"submenu-"+s+"-"+i,staticClass:"sub",attrs:{clickable:"",to:e.route,exact:"",dense:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1)],1)}))]})),a("q-separator",{staticClass:"q-mt-md q-mb-xs"}),a("q-item-label",{attrs:{header:""}},[a("span",{staticClass:"text-weight-bold text-uppercase"},[t._v("\n            Devices\n          ")]),a("span",{staticClass:"text-right cursor-pointer float-right",staticStyle:{"font-size":"x-small"}},[t._v("\n            "+t._s(t.devicesMenuSortMode)+" "),a("q-icon",{attrs:{name:"arrow_drop_down"}}),a("q-menu",{attrs:{anchor:"bottom right",self:"top right"}},[a("q-list",{attrs:{dense:""}},t._l(["type","location"],(function(e){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){t.devicesMenuSortMode=e}}},[a("q-item-section",[t._v(t._s(e))])],1)})),1)],1)],1)]),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"sub",attrs:{clickable:"",dense:"","inset-level":1,to:{name:"explore",query:{deviceMenu:"all"}},exact:""}},[a("q-item-section",[a("q-item-label",[t._v("All")])],1),a("q-item-section",{attrs:{side:""}},[a("q-badge",{attrs:{color:"primary",label:t.__devicesLen}})],1)],1),t._l(t.__deviceItems,(function(e,s){return e.len>0?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:"device-"+s,staticClass:"sub",attrs:{clickable:"",dense:"",to:{name:"explore",query:e.query},exact:"","inset-level":e.icon?0:1}},[e.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1):t._e(),a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1),a("q-item-section",{attrs:{side:""}},[a("q-badge",{attrs:{color:"primary",label:e.len}})],1)],1):t._e()})),a("q-separator",{staticClass:"q-mt-md q-mb-xs"}),a("q-item-label",{staticClass:"text-weight-bold text-uppercase",attrs:{header:""}},[t._v("\n          Data\n        ")]),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"sub",attrs:{clickable:"",dense:"",to:{name:"explore",query:{resources:"resources/Table"}},exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-table-large"}})],1),a("q-item-section",[a("q-item-label",[t._v("Tables")])],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"sub",attrs:{clickable:"",dense:"",to:{name:"explore",query:{resources:"resources/File"}},exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-file"}})],1),a("q-item-section",[a("q-item-label",[t._v("Files")])],1)],1),a("q-separator",{staticClass:"q-mt-md q-mb-xs lt-sm"}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"lt-sm",attrs:{clickable:"",to:{name:"system"},exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"settings"}})],1),a("q-item-section",[t._v("Settings")])],1),t.$ethingUI.autoLogin?t._e():a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"lt-sm",attrs:{clickable:""},on:{click:t.logout}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"exit_to_app"}})],1),a("q-item-section",[t._v("Logout")])],1)],2)],1)],1),a("q-page-container",["ok"!==t.$root.state?a("q-inner-loading",{staticClass:"text-center",attrs:{showing:""}},["error"===t.$root.state?a("div",[a("div",{staticClass:"q-pa-lg text-negative"},[t._v("\n          "+t._s(String(t.$root.error))+"\n        ")]),a("q-btn",{attrs:{color:"negative",icon:"refresh",label:"Reload"},on:{click:t.reload}})],1):a("div",[a("div",{staticClass:"q-pa-lg text-primary"},[t._v("loading...")]),a("q-spinner-pie",{attrs:{color:"primary",size:"50px"}})],1)]):a("router-view"),t.vKeyboardEnabled?a("v-keyboard"):t._e()],1)],1)},i=[],r=(a("f751"),a("ac6a"),a("cadf"),a("06db"),a("8615"),{name:"LayoutDefault",data:function(){return{leftDrawerOpen:!1,persistentNotifications:this.$ethingUI.persistentNotifications,dashboardTitles:[],devicesMenuSortMode:"location"}},computed:{back:function(){return this.$route.meta.back&&(this.$q.platform.within.iframe||this.$q.platform.is.electron||this.$ethingUI.kioskMode)},refreshEnabled:function(){return this.$q.platform.has.touch&&(!this.$q.platform.is.desktop||this.$ethingUI.kioskMode)},vKeyboardEnabled:function(){return this.$ethingUI.virtualKeyboardEnabled},__devices:function(){return this.$ethingUI.resource.listFromTypes("resources/Device")},__devicesLen:function(){return this.__devices.length},__deviceItems:function(){var t=this;if("location"==this.devicesMenuSortMode){var e={};return this.__devices.forEach((function(t,a){var s=t.location();e[s]||(e[s]={label:s,len:0,icon:"chevron_right",query:{deviceLocation:s}}),e[s].len++})),Object.values(e)}return this.$ethingUI.menu.devices.map((function(e,a){var s=t.$ethingUI.resource.listFromTypes(e.types).length;return Object.assign({len:s,query:{deviceMenu:a}},e)}))},__rootItems:function(){return this.$ethingUI.menu.root.filter((function(t){return!t.parent}))},__rootSubMenus:function(){var t=[];return this.$ethingUI.menu.root.filter((function(t){return t.parent})).forEach((function(e){var a=null;for(var s in t)if(t[s].label===e.parent){a=t[s];break}a||(a={label:e.parent,items:[]},t.push(a)),a.items.push(e)})),t}},methods:{logout:function(){var t=this;this.$q.dialog({title:"Logout ?",color:"primary",message:"Are you sure you want to logout ?",ok:"Logout",cancel:"Cancel"}).onOk((function(){t.$ethingUI.logout()}))},reload:function(){this.$root.state="begin",this.$router.go(this.$router.currentRoute)},refresh:function(){this.$router.go()},updateDashboardItems:function(){try{this.dashboardTitles=this.$ethingUI.dashboard.config.dashboards.map((function(t){return t.options.title}))}catch(t){this.dashboardTitles=[]}}},mounted:function(){this.$ethingUI.on("ui.dashboard.config",this.updateDashboardItems),this.updateDashboardItems()},beforeDestroy:function(){this.$ethingUI.off("ui.dashboard.config",this.updateDashboardItems)}}),n=r,o=(a("6283"),a("2877")),c=Object(o["a"])(n,s,i,!1,null,"316edbb2",null);e["default"]=c.exports},9273:function(t,e,a){}}]);