(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{ADSn:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",[n("multipane",{staticClass:"absolute fit custom-resizer",class:"vertical"==e.orientation?"vertical-panes":"horizontal-panes",attrs:{layout:e.orientation}},[n("div",{staticClass:"pane",style:"vertical"==e.orientation?{width:"50%",minWidth:"25%",maxWidth:"75%"}:{height:"50%",minHeight:"25%",maxHeight:"75%"}},[n("div",{staticClass:"column absolute fit"},[n("div",{staticClass:"col-auto"},[n("q-btn-group",{attrs:{flat:""}},[n("q-btn",{attrs:{loading:e.saveLoading,label:"save",icon:"mdi-content-save-outline"},on:{click:e.save}}),n("q-btn",{attrs:{loading:e.exeLoading,label:"run",icon:"play_arrow"},on:{click:e.onExecuteClick}}),n("q-btn",{attrs:{label:"settings",icon:"settings"},on:{click:function(t){e.settingsModal=!0}}})],1),n("span",{staticClass:"title text-faded",class:{dirty:e.dirty}},[e._v(e._s(e.resource.name()))])],1),n("q-scroll-area",{staticClass:"col",staticStyle:{height:"100%"}},[n("codemirror",{ref:"cm",attrs:{options:e.cmOption},on:{changes:e.onChange},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)]),n("multipane-resizer"),n("div",{staticClass:"pane console",style:{flexGrow:1}},[e.exeLoading?n("div",{staticClass:"absolute-center text-faded"},[e._v("\n        running ...\n      ")]):e.console.enabled?n("q-scroll-area",{ref:"outputScrollArea",staticClass:"absolute fit",attrs:{"content-style":{height:"100%","overflow-y":"auto"}}},[n("div",{staticClass:"output"},[e._l(e.console.output,function(t,i){return n("div",{key:i,staticClass:"output-line",class:t.type},[n("pre",{staticClass:"q-ma-none"},[n("code",[e._v(e._s(t.chunk))])])])}),n("div",{staticClass:"output-line info"},[e._v("status: "+e._s(e.console.info.status?"success":"fail"))]),n("div",{staticClass:"output-line info"},[e._v("return code: "+e._s(e.console.info.returnCode))]),"number"==typeof e.console.info.executionTime?n("div",{staticClass:"output-line info"},[e._v("duration: "+e._s(e.console.info.executionTime)+" secondes")]):e._e()],2)]):n("div",{staticClass:"absolute-center text-light"},[e._v("\n        Console\n      ")])],1)],1),n("modal",{attrs:{title:"Settings",icon:"settings","valid-btn-hide":"","cancel-btn-label":"Close","cancel-btn-color":"faded"},model:{value:e.settingsModal,callback:function(t){e.settingsModal=t},expression:"settingsModal"}},[n("q-field",{staticClass:"q-my-md",attrs:{label:"Arguments",orientation:"vertical"}},[n("q-input",{attrs:{placeholder:"--name=value -k --key"},model:{value:e.args,callback:function(t){e.args=t},expression:"args"}})],1)],1)],1)},o=[];i._withStripped=!0;n("pIFo");var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classnames,style:{cursor:e.cursor,userSelect:e.userSelect},on:{mousedown:e.onMouseDown,touchstart:e.onMouseDown}},[e._t("default")],2)},a=[];l._withStripped=!0;n("f3/d"),n("SRfc");var s="horizontal",r="vertical",c={name:"multipane",props:{layout:{type:String,default:r}},data:function(){return{isResizing:!1}},computed:{classnames:function(){return["multipane","layout-"+this.layout.slice(0,1),this.isResizing?"is-resizing":""]},cursor:function(){return this.isResizing?this.layout==r?"col-resize":"row-resize":""},userSelect:function(){return this.isResizing?"none":""}},methods:{onMouseDown:function(e){var t=e.target;if(t.className&&t.className.match("multipane-resizer")){var n=function(e,t){var n="page"+t;return"number"===typeof e[n]?e[n]:e.touches&&e.touches.length>0?e.touches[0][n]:void 0};e.preventDefault();var i=n(e,"X"),o=n(e,"Y"),l=this,a=l.$el,c=l.layout,u=Boolean(t.className.match("affect-follower")),m=t.previousElementSibling;u&&(m=t.nextElementSibling);var f=m,d=f.offsetWidth,h=f.offsetHeight,p=!!(m.style.width+"").match("%"),g=window,v=g.addEventListener,C=g.removeEventListener,b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(u&&(t=-t),c==r){var n=a.clientWidth,i=e+t;return m.style.width=p?i/n*100+"%":i+"px"}if(c==s){var o=a.clientHeight,l=e+t;return m.style.height=p?l/o*100+"%":l+"px"}};l.isResizing=!0;var k=b();l.$emit("paneResizeStart",m,t,k);var x=function(e){var a=n(e,"X"),s=n(e,"Y");k=c==r?b(d,a-i):b(h,s-o),l.$emit("paneResize",m,t,k)},y=function e(){k=b(c==r?m.clientWidth:m.clientHeight),l.isResizing=!1,C("mousemove",x),C("mouseup",e),C("touchmove",x),C("touchend",e),l.$emit("paneResizeStop",m,t,k)};v("mousemove",x),v("mouseup",y),v("touchmove",x),v("touchend",y)}}}},u=c,m=(n("l5J9"),n("KHd+")),f=Object(m["a"])(u,l,a,!1,null,null,null);f.options.__file="multipane.vue";var d=f.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classnames},[e._t("default")],2)},p=[];h._withStripped=!0;var g={name:"multipane-resizer",props:{affectFollower:{type:Boolean,default:!1}},computed:{classnames:function(){return["multipane-resizer",this.affectFollower?"affect-follower":""]}}},v=g,C=Object(m["a"])(v,h,p,!1,null,null,null);C.options.__file="multipane-resizer.vue";var b=C.exports;"undefined"!==typeof window&&window.Vue&&(window.Vue.component("multipane",d),window.Vue.component("multipane-resizer",b));var k=n("j5TT"),x=(n("p77/"),n("+dQi"),n("jDMi"),n("ELLl"),n("a8ks"),n("cokd"),{name:"PageText",components:{codemirror:k["codemirror"],Multipane:d,MultipaneResizer:b},data:function(){var e=this;return{content:"",cmOption:{mode:"application/javascript",tabSize:4,styleActiveLine:!0,lineNumbers:!0,lineWrapping:!1,foldGutter:!0,styleSelectedText:!0,matchBrackets:!0,autoCloseBrackets:!0,showCursorWhenSelecting:!0,extraKeys:{Ctrl:"autocomplete","Ctrl-S":function(){e.save()}},hintOptions:{completeSingle:!1},viewportMargin:1/0},loading:!0,saveLoading:!1,exeLoading:!1,dirty:!1,console:{enabled:!1,output:[],info:{}},orientation:this.$q.platform.is.mobile?"horizontal":"vertical",settingsModal:!1,args:""}},computed:{resource:function(){var e=this.$route.params.id,t=this.$store.getters["ething/get"](e);return e&&e.length&&(t||this.$router.replace("/404")),t}},methods:{codemirror:function(){return this.$refs["cm"].codemirror},markClean:function(){this.dirty=!1,this.codemirror().markClean()},reloadContent:function(){var e=this;this.loading=!0,this.resource.read().then(function(t){e.content=t,e.$nextTick(function(){e.markClean(),e.codemirror().clearHistory()})}).finally(function(){e.loading=!1})},save:function(e){var t=this;this.saveLoading=!0,this.resource.write(this.content).then(function(){t.dirty=!1,t.markClean(),"function"===typeof e&&e()}).finally(function(){t.saveLoading=!1})},onChange:function(e,t){this.dirty=!e.isClean()},execute:function(){var e=this;this.exeLoading=!0,this.resource.execute(this.args).then(function(t){console.log(t),e.printResult(t)}).catch(function(t){console.error(t),e.printResult({status:!1,returnCode:-2})}).finally(function(){e.exeLoading=!1,setTimeout(function(){e.$refs.outputScrollArea.setScrollPosition(1e9)},1)})},onExecuteClick:function(){this.dirty?this.save(this.execute):this.execute()},printResult:function(e){this.console.enabled=!0,this.console.output=e.output,this.console.info={status:e.ok,returnCode:e.return_code,executionTime:"number"==typeof e.executionTime?e.executionTime.toFixed(3):null}}},mounted:function(){this.reloadContent()}}),y=x,w=(n("CRWm"),Object(m["a"])(y,i,o,!1,null,null,null));w.options.__file="Script.vue";t["default"]=w.exports},CRWm:function(e,t,n){"use strict";var i=n("wa5w"),o=n.n(i);o.a},a8ks:function(e,t,n){(function(e){e(n("VrN/"))})(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var i,o=t.listSelections(),l=[],a=0;a<o.length;a++){var s=o[a].head;if(!/\bcomment\b/.test(t.getTokenTypeAt(s)))return e.Pass;var r=t.getModeAt(s);if(i){if(i!=r)return e.Pass}else i=r;var c=null;if(i.blockCommentStart&&i.blockCommentContinue){var u=t.getLine(s.line).slice(0,s.ch),m=u.lastIndexOf(i.blockCommentEnd);if(-1!=m&&m==s.ch-i.blockCommentEnd.length);else if((d=u.lastIndexOf(i.blockCommentStart))>-1&&d>m){if(c=u.slice(0,d),/\S/.test(c)){c="";for(var f=0;f<d;++f)c+=" "}}else(d=u.indexOf(i.blockCommentContinue))>-1&&!/\S/.test(u.slice(0,d))&&(c=u.slice(0,d));null!=c&&(c+=i.blockCommentContinue)}if(null==c&&i.lineComment&&n(t)){u=t.getLine(s.line);var d=u.indexOf(i.lineComment);d>-1&&(c=u.slice(0,d),/\S/.test(c)?c=null:c+=i.lineComment+u.slice(d+i.lineComment.length).match(/^\s*/)[0])}if(null==c)return e.Pass;l[a]="\n"+c}t.operation(function(){for(var e=o.length-1;e>=0;e--)t.replaceRange(l[e],o[e].from(),o[e].to(),"+insert")})}function n(e){var t=e.getOption("continueComments");return!t||"object"!=typeof t||!1!==t.continueLineComment}e.defineOption("continueComments",null,function(n,i,o){if(o&&o!=e.Init&&n.removeKeyMap("continueComment"),i){var l="Enter";"string"==typeof i?l=i:"object"==typeof i&&i.key&&(l=i.key);var a={name:"continueComment"};a[l]=t,n.addKeyMap(a)}})})},cokd:function(e,t,n){(function(e){e(n("VrN/"))})(function(e){"use strict";var t={},n=/[^\s\u00a0]/,i=e.Pos;function o(e){var t=e.search(n);return-1==t?0:t}function l(e,t,n){return/\bstring\b/.test(e.getTokenTypeAt(i(t.line,0)))&&!/^[\'\"\`]/.test(n)}function a(e,t){var n=e.getMode();return!1!==n.useInnerComments&&n.innerMode?e.getModeAt(t):n}e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=t);for(var n=this,o=1/0,l=this.listSelections(),a=null,s=l.length-1;s>=0;s--){var r=l[s].from(),c=l[s].to();r.line>=o||(c.line>=o&&(c=i(o,0)),o=r.line,null==a?n.uncomment(r,c,e)?a="un":(n.lineComment(r,c,e),a="line"):"un"==a?n.uncomment(r,c,e):n.lineComment(r,c,e))}}),e.defineExtension("lineComment",function(e,s,r){r||(r=t);var c=this,u=a(c,e),m=c.getLine(e.line);if(null!=m&&!l(c,e,m)){var f=r.lineComment||u.lineComment;if(f){var d=Math.min(0!=s.ch||s.line==e.line?s.line+1:s.line,c.lastLine()+1),h=null==r.padding?" ":r.padding,p=r.commentBlankLines||e.line==s.line;c.operation(function(){if(r.indent){for(var t=null,l=e.line;l<d;++l){var a=c.getLine(l),s=a.slice(0,o(a));(null==t||t.length>s.length)&&(t=s)}for(l=e.line;l<d;++l){a=c.getLine(l);var u=t.length;(p||n.test(a))&&(a.slice(0,u)!=t&&(u=o(a)),c.replaceRange(t+f+h,i(l,0),i(l,u)))}}else for(l=e.line;l<d;++l)(p||n.test(c.getLine(l)))&&c.replaceRange(f+h,i(l,0))})}else(r.blockCommentStart||u.blockCommentStart)&&(r.fullLines=!0,c.blockComment(e,s,r))}}),e.defineExtension("blockComment",function(e,o,l){l||(l=t);var s=this,r=a(s,e),c=l.blockCommentStart||r.blockCommentStart,u=l.blockCommentEnd||r.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(s.getTokenTypeAt(i(e.line,0)))){var m=Math.min(o.line,s.lastLine());m!=e.line&&0==o.ch&&n.test(s.getLine(m))&&--m;var f=null==l.padding?" ":l.padding;e.line>m||s.operation(function(){if(0!=l.fullLines){var t=n.test(s.getLine(m));s.replaceRange(f+u,i(m)),s.replaceRange(c+f,i(e.line,0));var a=l.blockCommentLead||r.blockCommentLead;if(null!=a)for(var d=e.line+1;d<=m;++d)(d!=m||t)&&s.replaceRange(a+f,i(d,0))}else s.replaceRange(u,o),s.replaceRange(c,e)})}}else(l.lineComment||r.lineComment)&&0!=l.fullLines&&s.lineComment(e,o,l)}),e.defineExtension("uncomment",function(e,o,l){l||(l=t);var s,r=this,c=a(r,e),u=Math.min(0!=o.ch||o.line==e.line?o.line:o.line-1,r.lastLine()),m=Math.min(e.line,u),f=l.lineComment||c.lineComment,d=[],h=null==l.padding?" ":l.padding;e:if(f){for(var p=m;p<=u;++p){var g=r.getLine(p),v=g.indexOf(f);if(v>-1&&!/comment/.test(r.getTokenTypeAt(i(p,v+1)))&&(v=-1),-1==v&&n.test(g))break e;if(v>-1&&n.test(g.slice(0,v)))break e;d.push(g)}if(r.operation(function(){for(var e=m;e<=u;++e){var t=d[e-m],n=t.indexOf(f),o=n+f.length;n<0||(t.slice(o,o+h.length)==h&&(o+=h.length),s=!0,r.replaceRange("",i(e,n),i(e,o)))}}),s)return!0}var C=l.blockCommentStart||c.blockCommentStart,b=l.blockCommentEnd||c.blockCommentEnd;if(!C||!b)return!1;var k=l.blockCommentLead||c.blockCommentLead,x=r.getLine(m),y=x.indexOf(C);if(-1==y)return!1;var w=u==m?x:r.getLine(u),L=w.indexOf(b,u==m?y+C.length:0),S=i(m,y+1),_=i(u,L+1);if(-1==L||!/comment/.test(r.getTokenTypeAt(S))||!/comment/.test(r.getTokenTypeAt(_))||r.getRange(S,_,"\n").indexOf(b)>-1)return!1;var R=x.lastIndexOf(C,e.ch),z=-1==R?-1:x.slice(0,e.ch).indexOf(b,R+C.length);if(-1!=R&&-1!=z&&z+b.length!=e.ch)return!1;z=w.indexOf(b,o.ch);var O=w.slice(o.ch).lastIndexOf(C,z-o.ch);return R=-1==z||-1==O?-1:o.ch+O,(-1==z||-1==R||R==o.ch)&&(r.operation(function(){r.replaceRange("",i(u,L-(h&&w.slice(L-h.length,L)==h?h.length:0)),i(u,L+b.length));var e=y+C.length;if(h&&x.slice(e,e+h.length)==h&&(e+=h.length),r.replaceRange("",i(m,y),i(m,e)),k)for(var t=m+1;t<=u;++t){var o=r.getLine(t),l=o.indexOf(k);if(-1!=l&&!n.test(o.slice(0,l))){var a=l+k.length;h&&o.slice(a,a+h.length)==h&&(a+=h.length),r.replaceRange("",i(t,l),i(t,a))}}}),!0)})})},d2IV:function(e,t,n){},l5J9:function(e,t,n){"use strict";var i=n("d2IV"),o=n.n(i);o.a},wa5w:function(e,t,n){}}]);