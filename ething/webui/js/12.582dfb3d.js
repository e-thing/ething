(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"+rlp":function(t,e,n){"use strict";var i=n("3zzF"),o=n.n(i);o.a},"1yFE":function(t,e,n){},"3zzF":function(t,e,n){},ADSn:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("multipane",{staticClass:"absolute fit custom-resizer",class:"vertical"==t.orientation?"vertical-panes":"horizontal-panes",attrs:{layout:t.orientation}},[n("div",{staticClass:"pane",style:"vertical"==t.orientation?{width:"50%",minWidth:"25%",maxWidth:"75%"}:{height:"50%",minHeight:"25%",maxHeight:"75%"}},[n("div",{staticClass:"column absolute fit"},[n("div",{staticClass:"col-auto"},[n("q-btn-group",{attrs:{flat:""}},[n("q-btn",{attrs:{loading:t.saveLoading,label:"save",icon:"mdi-content-save-outline"},on:{click:t.save}}),n("q-btn",{attrs:{loading:t.exeLoading,label:"run",icon:"play_arrow"},on:{click:t.onExecuteClick}}),n("q-btn",{attrs:{label:"settings",icon:"settings"},on:{click:function(e){t.settingsModal=!0}}})],1),n("span",{staticClass:"title text-faded",class:{dirty:t.dirty}},[t._v(t._s(t.resource.name()))])],1),n("q-scroll-area",{staticClass:"col",staticStyle:{height:"100%"}},[n("codemirror",{ref:"cm",attrs:{options:t.cmOption},on:{changes:t.onChange},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)]),n("multipane-resizer"),n("div",{staticClass:"pane console",style:{flexGrow:1}},[t.exeLoading?n("div",{staticClass:"absolute-center text-faded"},[t._v("\n        running ...\n      ")]):t.console.enabled?n("q-scroll-area",{ref:"outputScrollArea",staticClass:"absolute fit",attrs:{"content-style":{height:"100%","overflow-y":"auto"}}},[n("div",{staticClass:"output"},[t._l(t.console.output,function(e,i){return n("div",{key:i,staticClass:"output-line",class:e.type},[n("pre",{staticClass:"q-ma-none"},[n("code",[t._v(t._s(e.chunk))])])])}),n("div",{staticClass:"output-line info"},[t._v("status: "+t._s(t.console.info.status?"success":"fail"))]),n("div",{staticClass:"output-line info"},[t._v("return code: "+t._s(t.console.info.returnCode))]),"number"==typeof t.console.info.executionTime?n("div",{staticClass:"output-line info"},[t._v("duration: "+t._s(t.console.info.executionTime)+" secondes")]):t._e()],2)]):n("div",{staticClass:"absolute-center text-light"},[t._v("\n        Console\n      ")])],1)],1),n("modal",{attrs:{title:"Settings",icon:"settings","valid-btn-hide":"","cancel-btn-label":"Close","cancel-btn-color":"faded"},model:{value:t.settingsModal,callback:function(e){t.settingsModal=e},expression:"settingsModal"}},[n("q-field",{staticClass:"q-my-md",attrs:{label:"Arguments",orientation:"vertical"}},[n("q-input",{model:{value:t.args,callback:function(e){t.args=e},expression:"args"}})],1)],1)],1)},o=[];i._withStripped=!0;n("pIFo");var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classnames,style:{cursor:t.cursor,userSelect:t.userSelect},on:{mousedown:t.onMouseDown,touchstart:t.onMouseDown}},[t._t("default")],2)},a=[];s._withStripped=!0;n("f3/d"),n("SRfc");var r="horizontal",l="vertical",c={name:"multipane",props:{layout:{type:String,default:l}},data:function(){return{isResizing:!1}},computed:{classnames:function(){return["multipane","layout-"+this.layout.slice(0,1),this.isResizing?"is-resizing":""]},cursor:function(){return this.isResizing?this.layout==l?"col-resize":"row-resize":""},userSelect:function(){return this.isResizing?"none":""}},methods:{onMouseDown:function(t){var e=t.target;if(e.className&&e.className.match("multipane-resizer")){var n=function(t,e){var n="page"+e;return"number"===typeof t[n]?t[n]:t.touches&&t.touches.length>0?t.touches[0][n]:void 0};t.preventDefault();var i=n(t,"X"),o=n(t,"Y"),s=this,a=s.$el,c=s.layout,u=Boolean(e.className.match("affect-follower")),d=e.previousElementSibling;u&&(d=e.nextElementSibling);var f=d,p=f.offsetWidth,h=f.offsetHeight,m=!!(d.style.width+"").match("%"),v=window,g=v.addEventListener,y=v.removeEventListener,w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(u&&(e=-e),c==l){var n=a.clientWidth,i=t+e;return d.style.width=m?i/n*100+"%":i+"px"}if(c==r){var o=a.clientHeight,s=t+e;return d.style.height=m?s/o*100+"%":s+"px"}};s.isResizing=!0;var C=w();s.$emit("paneResizeStart",d,e,C);var b=function(t){var a=n(t,"X"),r=n(t,"Y");C=c==l?w(p,a-i):w(h,r-o),s.$emit("paneResize",d,e,C)},x=function t(){C=w(c==l?d.clientWidth:d.clientHeight),s.isResizing=!1,y("mousemove",b),y("mouseup",t),y("touchmove",b),y("touchend",t),s.$emit("paneResizeStop",d,e,C)};g("mousemove",b),g("mouseup",x),g("touchmove",b),g("touchend",x)}}}},u=c,d=(n("QsS7"),n("KHd+")),f=Object(d["a"])(u,s,a,!1,null,null,null),p=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classnames},[t._t("default")],2)},m=[];h._withStripped=!0;var v={name:"multipane-resizer",props:{affectFollower:{type:Boolean,default:!1}},computed:{classnames:function(){return["multipane-resizer",this.affectFollower?"affect-follower":""]}}},g=v,y=Object(d["a"])(g,h,m,!1,null,null,null),w=y.exports;"undefined"!==typeof window&&window.Vue&&(window.Vue.component("multipane",p),window.Vue.component("multipane-resizer",w));var C=n("j5TT"),b=(n("p77/"),n("+dQi"),n("jDMi"),n("ELLl"),n("a8ks"),n("cokd"),{name:"PageText",components:{codemirror:C["codemirror"],Multipane:p,MultipaneResizer:w},data:function(){var t=this;return{content:"",cmOption:{mode:"application/javascript",tabSize:4,styleActiveLine:!0,lineNumbers:!0,lineWrapping:!1,foldGutter:!0,styleSelectedText:!0,matchBrackets:!0,autoCloseBrackets:!0,showCursorWhenSelecting:!0,extraKeys:{Ctrl:"autocomplete","Ctrl-S":function(){t.save()}},hintOptions:{completeSingle:!1},viewportMargin:1/0},loading:!0,saveLoading:!1,exeLoading:!1,dirty:!1,console:{enabled:!1,output:[],info:{}},orientation:this.$q.platform.is.mobile?"horizontal":"vertical",settingsModal:!1,args:""}},computed:{resource:function(){var t=this.$route.params.id,e=this.$store.getters["ething/get"](t);return t&&t.length&&(e||this.$router.replace("/404")),e}},methods:{codemirror:function(){return this.$refs["cm"].codemirror},markClean:function(){this.dirty=!1,this.codemirror().markClean()},reloadContent:function(){var t=this;this.loading=!0,this.resource.read().then(function(e){t.content=e,t.$nextTick(function(){t.markClean(),t.codemirror().clearHistory()})}).finally(function(){t.loading=!1})},save:function(t){var e=this;this.saveLoading=!0,this.resource.write(this.content).then(function(){e.dirty=!1,e.markClean(),"function"===typeof t&&t()}).finally(function(){e.saveLoading=!1})},onChange:function(t,e){this.dirty=!t.isClean()},execute:function(){var t=this;this.exeLoading=!0,this.resource.execute(this.args).then(function(e){console.log(e),t.printResult(e)}).catch(function(e){console.error(e),t.printResult({status:!1,returnCode:-2})}).finally(function(){t.exeLoading=!1,setTimeout(function(){t.$refs.outputScrollArea.setScrollPosition(1e9)},1)})},onExecuteClick:function(){this.dirty?this.save(this.execute):this.execute()},printResult:function(t){this.console.enabled=!0,this.console.output=t.output,this.console.info={status:t.ok,returnCode:t.return_code,executionTime:"number"==typeof t.executionTime?t.executionTime.toFixed(3):null}}},mounted:function(){this.reloadContent()}}),x=b,z=(n("+rlp"),Object(d["a"])(x,i,o,!1,null,null,null));e["default"]=z.exports},QsS7:function(t,e,n){"use strict";var i=n("1yFE"),o=n.n(i);o.a}}]);