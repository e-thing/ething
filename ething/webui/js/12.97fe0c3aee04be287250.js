webpackJsonp([12],{QDll:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},SDuV:function(n,t,e){var i=e("QDll");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("rjj0").default)("048a4a9a",i,!1,{})},h6EO:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("//Fk"),s=e.n(i),a=e("woOf"),o=e.n(a),l=e("7109"),r={name:"PageTable",data:function(){return{loading:!0,serverPagination:{rowsPerPage:10,page:1,sortBy:"date",descending:!0,rowsNumber:0},serverData:[],filter:"",visibleColumns:["date"],edit:!1,selected:[],loadingStatistics:!1,statistics:null,modalStatistics:!1}},computed:{resource:function(){var n=this.$route.params.id,t=this.$store.getters["ething/get"](n);return n&&n.length&&(t||this.$router.replace("/404")),this.serverPagination.rowsNumber=t.length(),this.visibleColumns=["date"].concat(t.keys()),t},columns:function(){var n=this.resource,t=[],e={align:"left"};return n&&(t=n.keys().map(function(n){return o()({},e,{name:n,label:n,field:n})})),t.unshift(o()({},e,{name:"date",label:"date",field:"date",sortable:!0,format:function(n){return l._8.formatDate(n,"YYYY-MM-DD HH:mm:ss")}})),t.unshift(o()({},e,{name:"id",label:"id",field:"id"})),t},createdBy:function(){return this.$ething.arbo.get(this.resource.createdBy())}},watch:{resource:function(n,t){n&&n.contentModifiedDate()>this.contentModifiedDate&&this.reloadData()}},methods:{request:function(n){var t=this,e=n.pagination;n.filter;this.resource&&(this.loading=!0,this.contentModifiedDate=this.resource.contentModifiedDate(),this.resource.select({sort:(e.descending?"-":"+")+e.sortBy,start:(e.page-1)*e.rowsPerPage,length:e.rowsPerPage}).then(function(n){t.serverPagination=e,t.serverData=n,t.loading=!1}).catch(function(n){}).finally(function(){t.loading=!1}))},reloadData:function(){this.request({pagination:this.serverPagination,filter:this.filter})},removeSelection:function(){var n=this;this.selected.length&&(this.loading=!0,this.resource.removeRow(this.selected.map(function(n){return n.id})).finally(function(){n.loading=!1,n.selected=[]}))},showStats:function(){null===this.statistics&&this.computeStats(),this.modalStatistics=!0},computeStats:function(){var n=this;this.loadingStatistics=!0,this.statistics={};var t=this.resource.keys().map(function(t){return n.resource.computeStatistics(t).then(function(e){n.statistics[t]=e})});s.a.all(t).finally(function(){n.loadingStatistics=!1})},format:function(n,t){if(/date/i.test(n)){var e=new Date(t);t=l._8.formatDate(e,"YYYY-MM-DD HH:mm:ss")}return t}},mounted:function(){this.reloadData()}},c=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("q-page",[e("q-table",{staticClass:"absolute fit scroll",attrs:{data:n.serverData,columns:n.columns,"row-key":"id","visible-columns":n.visibleColumns,loading:n.loading,pagination:n.serverPagination,selection:n.edit?"multiple":"none",selected:n.selected,color:"secondary"},on:{"update:pagination":function(t){n.serverPagination=t},request:n.request,"update:selected":function(t){n.selected=t}},scopedSlots:n._u([{key:"top-left",fn:function(t){return[e("div",{staticClass:"q-title q-title-opacity"},[n._v(n._s(n.resource.basename())+" "),n.createdBy?e("small",{staticClass:"cursor-pointer text-faded",on:{click:function(t){n.$ui.open(n.createdBy)}}},[n._v(" - "+n._s(n.createdBy.basename()))]):n._e()])]}},{key:"top-right",fn:function(t){return[e("q-table-columns",{staticClass:"q-mr-sm",attrs:{color:"secondary",columns:n.columns},model:{value:n.visibleColumns,callback:function(t){n.visibleColumns=t},expression:"visibleColumns"}}),n._v(" "),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"mdi-chart-line",color:"faded"},on:{click:function(t){n.$ui.open(n.resource,"chart")}}}),n._v(" "),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"mdi-information-outline",color:"faded"},on:{click:n.showStats}}),n._v(" "),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"check_box",color:n.edit?"secondary":"faded"},on:{click:function(t){n.edit=!n.edit}}}),n._v(" "),n.selected.length?e("q-btn",{attrs:{flat:"",round:"",dense:"",color:"negative",icon:"delete"},on:{click:n.removeSelection}}):n._e(),n._v(" "),e("q-btn",{attrs:{flat:"",round:"",dense:"",color:t.inFullscreen?"secondary":"faded",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}}])}),n._v(" "),e("q-modal",{attrs:{"content-css":{maxWidth:"400px"}},model:{value:n.modalStatistics,callback:function(t){n.modalStatistics=t},expression:"modalStatistics"}},[e("div",{staticClass:"q-ma-md"},[e("div",{staticClass:"q-mb-md q-title q-title-opacity"},[n._v("Statistics")]),n._v(" "),n.loadingStatistics?e("div",{staticClass:"text-center q-mb-md"},[e("div",{staticClass:"q-pa-lg text-primary"},[n._v("loading...")]),n._v(" "),e("q-spinner-oval",{attrs:{color:"primary",size:"50px"}})],1):null!==n.statistics?e("div",n._l(n.resource.keys(),function(t){return e("div",[e("div",{staticClass:"q-mb-md q-subheading q-subheading-opacity"},[n._v(n._s(t))]),n._v(" "),e("div",{staticClass:"row q-mb-md"},[n._l(n.statistics[t],function(t,i){return[e("div",{staticClass:"col-xs-12 col-sm-4 key text-secondary"},[n._v(n._s(i))]),n._v(" "),e("div",{staticClass:"col-xs-12 col-sm-8 value"},[n._v(n._s(n.format(i,t)))])]})],2)])})):n._e(),n._v(" "),e("q-btn",{attrs:{color:"faded",label:"Close",flat:""},on:{click:function(t){n.modalStatistics=!1}}}),n._v(" "),e("q-btn",{attrs:{color:"faded",disable:n.loadingStatistics,label:"Reload",flat:""},on:{click:n.computeStats}})],1)])],1)},d=[];c._withStripped=!0;var u=e("XyMi"),f=!1;var m=function(n){f||e("SDuV")},v=Object(u.a)(r,c,d,!1,m,null,null);v.options.__file="src\\pages\\Table.vue";t.default=v.exports}});