webpackJsonp([11],{P7ry:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("+cKO"),n={name:"PageLogin",data:function(){return{loading:!1,server:this.$ui.getServerUrl()||"http://localhost:8000",form:{login:"",password:""}}},validations:function(){var r={form:{login:{required:o.required},password:{required:o.required}}};return this.$ui.dynamicServerUrl&&(r.server={required:o.required}),r},methods:{onConnect:function(){var r=this;if(this.$v.$touch(),!this.$v.$error){this.loading=!0;var e=this.server.trim().replace(/\/+$/,"");this.$ui.login(e,this.form.login,this.form.password).catch(function(t){if(t.response){var o=t.response.status;401==o||403==o?r.$q.notify("Invalid credentials."):r.$q.notify("Could not authenticate.")}else t.request?r.$q.notify("Unable to access to the EThing server at "+e):r.$q.notify("Error: "+t.message)}).finally(function(){r.loading=!1})}}}},s=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"fixed-center content"},[t("div",{staticClass:"q-display-3 text-primary text-center"},[r._v("EThing")]),r._v(" "),t("div",{staticClass:"q-pb-md"},[r.$ui.dynamicServerUrl?t("q-field",{attrs:{error:r.$v.server.$error,"error-label":"required"}},[t("q-input",{ref:"server",staticClass:"q-py-md",attrs:{autofocus:"","float-label":"Server Url"},on:{keyup:function(e){if(!("button"in e)&&r._k(e.keyCode,"enter",13,e.key,"Enter"))return null;r.$refs.login.focus()},blur:r.$v.server.$touch},model:{value:r.server,callback:function(e){r.server=e},expression:"server"}})],1):r._e(),r._v(" "),t("q-field",{attrs:{error:r.$v.form.login.$error,"error-label":"Login is required"}},[t("q-input",{ref:"login",staticClass:"q-py-md",attrs:{autofocus:"","float-label":"Login"},on:{keyup:function(e){if(!("button"in e)&&r._k(e.keyCode,"enter",13,e.key,"Enter"))return null;r.$refs.password.focus()},blur:r.$v.form.login.$touch},model:{value:r.form.login,callback:function(e){r.$set(r.form,"login",e)},expression:"form.login"}})],1),r._v(" "),t("q-field",{attrs:{error:r.$v.form.password.$error,"error-label":"Password is required"}},[t("q-input",{ref:"password",staticClass:"q-py-md",attrs:{type:"password","float-label":"Password",error:r.$v.form.password.$error},on:{keyup:function(e){return"button"in e||!r._k(e.keyCode,"enter",13,e.key,"Enter")?r.onConnect(e):null},blur:r.$v.form.password.$touch},model:{value:r.form.password,callback:function(e){r.$set(r.form,"password",e)},expression:"form.password"}})],1)],1),r._v(" "),t("q-btn",{staticClass:"full-width",attrs:{loading:r.loading,disable:r.$v.$error,color:"primary"},on:{click:r.onConnect}},[r._v("Connect")])],1)},i=[];s._withStripped=!0;var a=t("XyMi"),l=!1;var u=function(r){l||t("ynVW")},c=Object(a.a)(n,s,i,!1,u,null,null);c.options.__file="src\\pages\\Login.vue";e.default=c.exports},QrNi:function(r,e,t){(r.exports=t("FZ+f")(!1)).push([r.i,"\n.content {\r\n  width: 300px;\n}\r\n",""])},ynVW:function(r,e,t){var o=t("QrNi");"string"==typeof o&&(o=[[r.i,o,""]]),o.locals&&(r.exports=o.locals);(0,t("rjj0").default)("70da09ae",o,!1,{})}});